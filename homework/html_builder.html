<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mah√© <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
--><!DOCTYPE html>


<html>
<head>
  <title>HTML Renderer Homework Assignment &mdash; Foundations 2: Python</title>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  <link rel="stylesheet" media="all"
        href="../_static/theme/css/default.css">
  <link rel="stylesheet" media="all"
        href="../_static/theme/css/hieroglyph.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)"
        href="../_static/theme/css/phone.css">

    
    <link rel="stylesheet" href="../_static/custom.css"
          type="text/css" />
    

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script data-main="../_static/js/slides"
            src="../_static/js/require-1.0.8.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <link rel="top" title="Foundations 2: Python" href="../index.html" /> 
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
  <aside class="gdbar"><img src="https://dgosxlrnzhofi.cloudfront.net/assets/logo-3fc81b216ed94ef783583de4160a97ef.svg"></aside>
  <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
  <hgroup class="auto-fadein">
    <h1 data-config-title><!-- populated from slide_config.json --></h1>
    <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
    <p data-config-presenter><!-- populated from slide_config.json --></p>
  </hgroup>
</slide>

  
    <slide class="level-1">
    <hgroup>
      <h1>HTML Renderer Homework Assignment</h1>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-2">
    <hgroup>
      <h2>HTML Render</h2>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Goal:</h3>
    </hgroup>
    <article class="">
      <p>The goal is to create a set of classes to render html pages -- in a &quot;pretty printed&quot; way. i.e nicely indented and human readable. We'll try to get to all the features required to render:</p>
<p><a class="reference download internal" href="../_downloads/sample_html.html"><tt class="xref download docutils literal"><span class="pre">sample_html.html</span></tt></a></p>
<p>The exercise is broken down into a number of steps -- each requiring a few more OO concepts in Python.</p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>General Instructions:</h3>
    </hgroup>
    <article class="">
      <p>For each step, add the required functionality. There is example code to run
your code for each step in: <tt class="docutils literal"><span class="pre">code\session06\run_html_render.py</span></tt></p>
<p>name your file: <tt class="docutils literal"><span class="pre">html_render.py</span></tt> -- so it can be imported by
<tt class="docutils literal"><span class="pre">run_html_render.py</span></tt></p>
<p>You should be able to run that code at each step, uncommenting each new step in
<tt class="docutils literal"><span class="pre">run_html_render.py</span></tt> as you go.</p>
<p>It builds up a html tree, and then calls the <tt class="docutils literal"><span class="pre">render()</span></tt> method of your
element to render the page.</p>
<p>It uses a <tt class="docutils literal"><span class="pre">cStringIO</span></tt> object (like a file, but in memory) to render to
memory, then dumps it to the console, and writes a file. Take a look at the
code at the end to make sure you understand it.</p>
<p>The html generated at each step is in the files: <tt class="docutils literal"><span class="pre">test_html_ouput?.html</span></tt></p>
<p>At each step, your results should look similar that those (maybe not
identical...)</p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 1:</h3>
    </hgroup>
    <article class="">
      <p>Create an <tt class="docutils literal"><span class="pre">Element</span></tt> class for rendering an html element (xml element).</p>
<p>It should have class attributes for the tag name (&quot;html&quot; first) and the
indentation (spaces to indent for pretty printing)</p>
<p>The constructor signature should look like</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Element</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">content</span></tt> is a string</p>
<p>It should have an <tt class="docutils literal"><span class="pre">append</span></tt> method that can add another string to the content.</p>
<p>It should have a <tt class="docutils literal"><span class="pre">render(file_out,</span> <span class="pre">ind</span> <span class="pre">=</span> <span class="pre">&quot;&quot;)</span></tt> method that renders the tag and
the strings in the content.</p>
<p><tt class="docutils literal"><span class="pre">file_out</span></tt> could be any file-like object ( i.e. have a <tt class="docutils literal"><span class="pre">write()</span></tt> method ).</p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 1:</h3>
    </hgroup>
    <article class="">
      <p><tt class="docutils literal"><span class="pre">ind</span></tt> is a string with the indentation level in it: the amount that the tag
should be indented for pretty printing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a little tricky: <tt class="docutils literal"><span class="pre">ind</span></tt> will be the amount that this element
should be indented already. It will be from zero (an empty string) to a lot of
spaces, depending on how deep it is in the tree.</p>
</div>
<p>The amount of indentation should be set by the class attribute: <tt class="docutils literal"><span class="pre">indent</span></tt></p>
<p>You should now be able to render an html tag with text in it as contents.</p>
<p>See: step 1. in <tt class="docutils literal"><span class="pre">run_html_render.py</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 2:</h3>
    </hgroup>
    <article class="">
      <p>Create a couple subclasses of <tt class="docutils literal"><span class="pre">Element</span></tt>, for a <tt class="docutils literal"><span class="pre">&lt;body&gt;</span></tt> tag and <tt class="docutils literal"><span class="pre">&lt;p&gt;</span></tt> tag. All you should have to do is override the <tt class="docutils literal"><span class="pre">tag</span></tt> class attribute (you may need to add a <tt class="docutils literal"><span class="pre">tag</span></tt> class attribute to the Element class first...).</p>
<p>Now you can render a few different types of element.</p>
<p>Extend the <tt class="docutils literal"><span class="pre">Element.render()</span></tt> method so that it can render other elements inside the tag in addition to strings. Simple recursion should do it. i.e. it can call the <tt class="docutils literal"><span class="pre">render()</span></tt> method of the elements it contains. You'll need to be smart about setting the <tt class="docutils literal"><span class="pre">ind</span></tt> optional parameter -- so that the nested elements get indented correctly.</p>
<p>Figure out a way to deal with the fact that the contained elements could be either simple strings or <tt class="docutils literal"><span class="pre">Element</span></tt> s with render methods (there are a few ways to handle that...).</p>
<p>You should now be able to render a basic web page with an html tag around
the whole thing, a <tt class="docutils literal"><span class="pre">&lt;body&gt;</span></tt> tag inside, and multiple <tt class="docutils literal"><span class="pre">&lt;p&gt;</span></tt> tags inside that,
with text inside that. And all indended nicely.</p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output2.html</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 3:</h3>
    </hgroup>
    <article class="">
      <p>Create a <tt class="docutils literal"><span class="pre">&lt;head&gt;</span></tt> element -- simple subclass.</p>
<p>Create a <tt class="docutils literal"><span class="pre">OneLineTag</span></tt> subclass of <tt class="docutils literal"><span class="pre">Element</span></tt>:</p>
<ul>
<li><p class="first">It should override the render method, to render everything on one line -- for the simple tags, like:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;title&gt; PythonClass - Session 6 example &lt;/title&gt;
</pre></div>
</div>
</li>
</ul>
<p>Create a <tt class="docutils literal"><span class="pre">Title</span></tt> subclass of <tt class="docutils literal"><span class="pre">OneLineTag</span></tt> class for the title.</p>
<p>You should now be able to render an html doc with a head element, with a
title element in that, and a body element with some <tt class="docutils literal"><span class="pre">&lt;P&gt;</span></tt> elements and some text.</p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output3.html</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 4:</h3>
    </hgroup>
    <article class="">
      <p>Extend the <tt class="docutils literal"><span class="pre">Element</span></tt> class to accept a set of attributes as keywords to the
constructor, ie. (<tt class="docutils literal"><span class="pre">run_html_render.py</span></tt>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Element</span><span class="p">(</span><span class="s">&quot;some text content&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;TheList&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&quot;line-height:200%&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>( remember <tt class="docutils literal"><span class="pre">**kwargs</span></tt>? )</p>
<p>The render method will need to be extended to render the attributes properly.</p>
<p>You can now render some <tt class="docutils literal"><span class="pre">&lt;p&gt;</span></tt> tags (and others) with attributes</p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output4.html</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 5:</h3>
    </hgroup>
    <article class="">
      <p>Create a <tt class="docutils literal"><span class="pre">SelfClosingTag</span></tt> subclass of Element, to render tags like:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;hr /&gt; and &lt;br /&gt; (horizontal rule and line break).
</pre></div>
</div>
<p>You will need to override the render method to render just the one tag and
attributes, if any.</p>
<p>Create a couple subclasses of <tt class="docutils literal"><span class="pre">SelfClosingTag</span></tt> for and &lt;hr /&gt; and &lt;br /&gt;</p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output5.html</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 6:</h3>
    </hgroup>
    <article class="">
      <p>Create a <tt class="docutils literal"><span class="pre">A</span></tt> class for an anchor (link) element. Its constructor should look like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>where link is the link, and content is what you see. It can be called like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">(</span><span class="s">u&quot;http://google.com&quot;</span><span class="p">,</span> <span class="s">u&quot;link to google&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You should be able to subclass from <tt class="docutils literal"><span class="pre">Element</span></tt>, and only override the <tt class="docutils literal"><span class="pre">__init__</span></tt> --- Calling the <tt class="docutils literal"><span class="pre">Element</span></tt> <tt class="docutils literal"><span class="pre">__init__</span></tt> from the  <tt class="docutils literal"><span class="pre">A</span> <span class="pre">__init__</span></tt></p>
<p>You can now add a link to your web page.</p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output6.html</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 7:</h3>
    </hgroup>
    <article class="">
      <p>Create <tt class="docutils literal"><span class="pre">Ul</span></tt> class for an unordered list (really simple subclass of <tt class="docutils literal"><span class="pre">Element</span></tt>)</p>
<p>Create <tt class="docutils literal"><span class="pre">Li</span></tt> class for an element in a list (also really simple)</p>
<p>Add a list to your web page.</p>
<p>Create a <tt class="docutils literal"><span class="pre">Header</span></tt> class -- this one should take an integer argument for the
header level. i.e &lt;h1&gt;, &lt;h2&gt;, &lt;h3&gt;, called like</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">H</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;The text of the header&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>for an &lt;h2&gt; header</p>
<p>It can subclass from <tt class="docutils literal"><span class="pre">OneLineTag</span></tt> -- overriding the <tt class="docutils literal"><span class="pre">__init__</span></tt>, then calling the superclass <tt class="docutils literal"><span class="pre">__init__</span></tt></p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output7.html</span></tt></p>




    </article>
  </slide>  <slide class="level-3">
    <hgroup>
      <h3>Step 8:</h3>
    </hgroup>
    <article class="">
      <p>Update the <tt class="docutils literal"><span class="pre">Html</span></tt> element class to render the &quot;&lt;!DOCTYPE html&gt;&quot; tag at the head of the page, before the html element.</p>
<p>You can do this by subclassing <tt class="docutils literal"><span class="pre">Element</span></tt>, overriding <tt class="docutils literal"><span class="pre">render()</span></tt>, but then calling the <tt class="docutils literal"><span class="pre">Element</span></tt> render from the new render.</p>
<p>Create a subclass of <tt class="docutils literal"><span class="pre">SelfClosingTag</span></tt> for <tt class="docutils literal"><span class="pre">&lt;meta</span> <span class="pre">charset=&quot;UTF-8&quot;</span> <span class="pre">/&gt;</span></tt> (like for <tt class="docutils literal"><span class="pre">&lt;hr</span> <span class="pre">/&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;br</span> <span class="pre">/&gt;</span></tt> and add the meta element to the beginning of the head element to give your document an encoding.</p>
<p>The doctype and encoding are HTML 5 and you can check this at: <a class="reference external" href="http://validator.w3.org">http://validator.w3.org</a>.</p>
<p>You now have a pretty full-featured html renderer -- play with it, add some
new tags, etc....</p>
<p>See <tt class="docutils literal"><span class="pre">test_html_output8.html</span></tt></p>




    </article>
  </slide>


    <slide class="thank-you-slide segue nobackground">
    <aside class="gdbar right"><img src="https://dgosxlrnzhofi.cloudfront.net/assets/logo-3fc81b216ed94ef783583de4160a97ef.svg"></aside>
    <article class="flexbox vleft auto-fadein">
      <h2>&lt;Thank You!&gt;</h2>
      <p>&nbsp;</p>
    </article>
    <p class="auto-fadein" data-config-contact>
      <!-- populated from slide_config.json -->
    </p>
  </slide>

  <slide class="backdrop"></slide>

</slides>

<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>